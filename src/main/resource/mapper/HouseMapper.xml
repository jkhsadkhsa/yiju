<?xml version="1.0" encoding="UTF-8" ?>
        <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.yiju.dao.IHouseDao" >

    <!--当数据库里的字段名和Java文件的封装类名字不一致时
               1、可以使用驼峰映射自动忽略大小写和下划线
               2、@Param()注释与数据库字段名保持一致
               否则查询结果无法封装到实体类中，查询结果可能为空
    -->

   <!-- 根据房屋类型查询4个房屋 -->
    <select id="findFourHouseByType" resultType="com.yiju.pojo.HouseView" parameterType="java.lang.Integer">
        select * from tb_house as a, tb_house_info as b
            where a.house_id = b.house_id and a.is_delete =0 and a.house_type =#{hType}
            order by rand() limit 4;
    </select>

    <!-- 根据房屋类型查询所有房屋 -->
    <select id="findAllHouseByType" resultType="com.yiju.pojo.HouseView" parameterType="java.lang.Integer">
        select * from tb_house as a, tb_house_info as b
        where a.house_id = b.house_id and a.is_delete =0 and a.house_type =#{hType}
    </select>

    <!-- 查询房屋详情信息ByhouseId -->
    <select id="findHouseById" resultType="com.yiju.pojo.HouseView" parameterType="java.lang.Integer">
        select * from tb_house as a, tb_house_info as b
        where a.house_id = b.house_id and a.is_delete =0 and a.house_id =#{houseId}
    </select>

    <!--查询房屋ByHouseTitle-->
    <select id="searchByHouseTitle" resultType="com.yiju.pojo.HouseView" parameterType="String">
        select * from tb_house where house_title like CONCAT('%',#{houseTitle},'%')
    </select>
</mapper>